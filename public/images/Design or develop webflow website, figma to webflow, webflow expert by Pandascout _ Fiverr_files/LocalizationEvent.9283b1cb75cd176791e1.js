!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("lodash"));else if("function"==typeof define&&define.amd)define(["lodash"],t);else{var r="object"==typeof exports?t(require("lodash")):t(e._);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(self,(e=>(()=>{var t={fv4j:(e,t)=>{t.DEFAULT_LOCALE="en-US"},AqpL:(e,t,r)=>{const{DEFAULT_LOCALE:n}=r("fv4j");t.A={locale:n,computedLocale:n,userId:0,country:"",countryCode:"",pageCtxId:"",isPro:!1,abTests:{},userAgent:"",knownCrawler:!1,csrfToken:"",browserLanguage:"",currency:"",pathParameters:{},queryParameters:{},userGuid:"",url:"",ip:"",referrer:"",organizationId:"",experience:{isBuyer:!1,isSeller:!1,isBusiness:!1,value:""},isMobile:!1,isTouch:!1,isIos:!1}},luq0:t=>{"use strict";t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);return(()=>{"use strict";var e=n("luq0"),t=n.n(e);const r="object"==typeof window&&window.window===window&&window||"object"==typeof n.g&&n.g.global===n.g&&n.g||"object"==typeof self&&self.self===self&&self,o=Symbol();const a=Symbol.for("globalEventBus"),i=r[a]=r[a]||new class{constructor(){this[o]=new Map}on(e,t){let r=this[o].get(e);r||(this[o].set(e,new Set),r=this[o].get(e)),r.add(t)}once(e,t){var r=this;const n=function(){r.off(e,n),t(...arguments)};this.on(e,n)}one(e,t){this.has(e)||this.on(e,t)}has(e){return this[o].has(e)}off(e,t){if(!this[o].has(e))return;if(void 0===t)return void this[o].delete(e);const r=this[o].get(e);r.delete(t),0===r.size&&this[o].delete(e)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=this[o].get(e);a&&a.forEach((e=>{e(...r)}))}deferred(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Promise.resolve().then((()=>{this.emit(e,...r)}))}},s="OBS::LOGGER",c="debug",l="verbose",u="info",d="warn",g="error",f="critical",y=[c,l,u,d,g,f],p=y.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.deferred(s,{entity:e,enrichments:r,level:t})}})),{});Object.defineProperty(p,"force",{value:y.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.deferred(s,{entity:e,enrichments:r,level:t,force:true})}})),{})});const b=p;var h=n("AqpL");const m=()=>{const e=t().get(window,"initialData.FiverrContext");return e||(b.error({message:"Browser context does not exist, please ensure the run time owner sets one on the window scope before using this API"}),h.A)},v=e=>e.substr(0,2),w={"de-DE":"Deutsch","en-US":"English",es:"Español","fr-FR":"Français","it-IT":"Italiano","nl-NL":"Nederlands","pt-BR":"Português"},k={"en-US":"www","de-DE":"de",es:"es","fr-FR":"fr","pt-BR":"br","it-IT":"it","nl-NL":"nl"},O="en-US",j=(Object.keys(w),v(O)),E={};Object.keys(w).forEach((e=>{const t=e.toUpperCase().replace(/-/g,"_");E[t]=e}));const S=Object.values(k).join("|"),_=(new RegExp("^((".concat(S,")\\.){1,2}(dev\\.){0,1}fiverr.com$")),{ab:"аҧсуа",aa:"Afaraf",af:"Afrikaans",ak:"Akan",sq:"Shqip",am:"አማርኛ",ar:"العربية",an:"Aragonés",hy:"Հայերեն",as:"অসমীয়া",av:"магӀарул мацӀ",ae:"avesta",ay:"aymar aru",az:"azərbaycan dili",bm:"bamanankan",ba:"башҡорт теле",eu:"euskara",be:"Беларуская",bn:"বাংলা",bh:"भोजपुरी",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:"български език",my:"ဗမာစာ",ca:"Català",ch:"Chamoru",ce:"нохчийн мотт",ny:"chiCheŵa",zh:"中文 (简体)",cv:"чӑваш чӗлхи",kw:"Kernewek",co:"corsu",cr:"ᓀᐦᐃᔭᐍᐏᐣ",hr:"hrvatski",cs:"čeština",da:"dansk",nl:"Nederlands",en:"English",eo:"Esperanto",et:"eesti keel",ee:"Eʋegbe",fo:"føroyskt",fj:"vosa Vakaviti",fi:"suomen kieli",fr:"Français",ff:"Fulfulde",gl:"Galego",ka:"ქართული",de:"Deutsch",el:"Ελληνικά",gn:"Avañeẽ",gu:"ગુજરાતી",ht:"Kreyòl ayisyen",ha:"Hausa",he:"עברית",hz:"Otjiherero",hi:"हिंदी",ho:"Hiri Motu",hu:"Magyar",ia:"Interlingua",id:"Bahasa Indonesia",ga:"Gaeilge",ig:"Asụsụ Igbo",ik:"Iñupiatun",io:"Ido",is:"Íslenska",it:"Italiano",iu:"ᐃᓄᒃᑎᑐᑦ",ja:"日本語 (にほんご／にっぽんご)",jv:"basa Jawa",jw:"basa Jawa",kl:"kalaallisut",kn:"ಕನ್ನಡ",kr:"Kanuri",ks:"कश्मीरी",kk:"Қазақ тілі",km:"ភាសាខ្មែរ",ki:"Gĩkũyũ",rw:"Ikinyarwanda",ky:"кыргыз тили",kv:"коми кыв",kg:"KiKongo",ko:"한국어",ku:"Kurdî",kj:"Kuanyama",la:"latine",lb:"Lëtzebuergesch",lg:"Luganda",li:"Limburgs",ln:"Lingála",lo:"ພາສາລາວ",lt:"lietuvių kalba",lu:"Kiluba",lv:"latviešu valoda",gv:"Gaelg",mk:"македонски јазик",mg:"Malagasy fiteny",ms:"bahasa Melayu",ml:"മലയാളം",mt:"Malti",mi:"te reo Māori",mr:"मराठी",mh:"Kajin M̧ajeļ",mn:"монгол",na:"Ekakairũ Naoero",nv:"Diné bizaad",nb:"Norsk bokmål",nd:"isiNdebele",ne:"नेपाली",ng:"Owambo",nn:"Norsk nynorsk",no:"Norsk",ii:"ꆈꌠ꒿ Nuosuhxop",nr:"isiNdebele",oc:"Occitan",oj:"ᐊᓂᔑᓈᐯᒧᐎᓐ",om:"Afaan Oromoo",or:"ଓଡ଼ିଆ",os:"ирон æвзаг",pa:"ਪੰਜਾਬੀ",pi:"पाऴि",fa:"فارسی",pl:"Polski",ps:"پښتو",pt:"Português",qu:"Runa Simi",rm:"rumantsch grischun",rn:"kiRundi",ro:"Română",ru:"русский язык",sa:"संस्कृतम्",sc:"sardu",sd:"सिन्धी",se:"Davvisámegiella",sm:"gagana faa Samoa",sg:"yângâ tî sängö",sr:"српски језик",gd:"Gàidhlig",sn:"chiShona",si:"සිංහල",sk:"slovenčina",sl:"slovenščina",so:"Soomaaliga",st:"Sesotho",es:"Español",su:"Basa Sunda",sw:"Kiswahili",ss:"SiSwati",sv:"svenska",ta:"தமிழ்",te:"తెలుగు",tg:"тоҷикӣ",th:"ไทย",ti:"ትግርኛ",bo:"བོད་ཡིག",tk:"Türkmen",tl:"Wikang Tagalog",tn:"Setswana",to:"faka Tonga",tr:"Türkçe",ts:"Xitsonga",tt:"татарча",tw:"Twi",ty:"Reo Tahiti",ug:"Uyƣurqə",uk:"українська",ur:"اردو",uz:"zbek",ve:"Tshivenḓa",vi:"Tiếng Việt",vo:"Volapük",wa:"Walon",cy:"Cymraeg",wo:"Wollof",fy:"Frysk",xh:"isiXhosa",yi:"ייִדיש",yo:"Yorùbá",za:"Saɯ cueŋƅ"}),x=(Object.keys(_),e=>!!_[e]),L={FR:"fr",ES:"es",MX:"es",IT:"it",DE:"de",NL:"nl",BR:"pt",PT:"pt"},I=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.deferred(e,{events:r})},R={send:I("OBS::BIG_QUERY")},A=["translated-ltr","translated-rtl"],T=()=>{const{locale:e,browserLanguage:t,countryCode:r,currency:n,computedLocale:o}=m(),a=(e=>{let{locale:t,browserLanguage:r,countryCode:n}=e,o=j;const a=t&&v(t);if(a!==o&&x(a))o=a;else{const e=r&&v(r);e!==o&&x(e)?o=e:L[n]&&(o=L[n])}return o})({countryCode:r,locale:e,browserLanguage:t});R.send({type:"localization_attributes_per_page",group:"technical_events",domain:{name:"Localization"},localization:{experience_locale:e,visitor_assumed_language:a,display_currency:n,formatting_locale:o}})},C=()=>{if(!window||!window.MutationObserver)return;const e=new MutationObserver((t=>{t.forEach((t=>{let{target:r}=t;if("HTML"!==r.nodeName)return;const n=r;(e=>A.some((t=>e.classList.contains(t))))(n)&&(e.disconnect(),R.send({type:"page_translated_by_extension",group:"user_action",domain:{name:"Localization"},localization:{experience_locale:m().locale,translation_source:"Google Translate",language_after_translation:n.lang}}))}))})),t=window.document.querySelector("html");e.observe(t,{attributes:!0,attributeFilter:["class"]})},P=()=>{T(),C()},D=["count","time","gauge","set","histogram"],z=D.reduce(((e,t)=>Object.assign(e,{[t]:function(e,r,n){let{rate:o,tags:a,enforceRate:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object.entries({prefix:e,metric:r}).forEach(((e,t)=>{let[r,n]=e;if("string"!=typeof n||!n)throw new TypeError("Expected argument ".concat(t," (").concat(r,") to be a string. Instead got ").concat(typeof n," (").concat(n,")"))}));const c=[e,r].join(".");return i.deferred("OBS::STATS",{type:t,key:c,value:n,rate:o,tags:a,enforceRate:s})}})),{});Object.defineProperty(z,"prefix",{value:e=>D.reduce(((t,r)=>Object.assign(t,{[r]:z[r].bind(z,e)})),{})});const B=z;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const F=e=>{return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:e.type,name:e.name,created_at:new Date(e.createdAt).toISOString(),duration:e.duration||null,value:e.value||null},{context_id:(t=e.context).id,user_id:t.userId.toString(),country_code:t.countryCode,browser:t.browserName,locale:t.locale,currency:t.currency,platform:t.platform});var t},q=I("OBS::BIG_QUERY_MONICORE"),K="monicore",U="mobile_web",G="web";class H extends Error{constructor(e){super(e),this.name="ContextNotFoundError"}}const V=()=>{const{pageCtxId:e,userId:t,countryCode:r,locale:n,isMobile:o,currency:a}=m();return{id:e||"",userId:t||"",countryCode:r||"",locale:n||"",currency:a||"",platform:o?U:G}},W=Date.now(),X=window.performance&&window.performance.now?window.performance:{now:()=>Date.now()-W,timeOrigin:W},Y="event",J="error",Q=[Y,J],$="ADD_EVENT_ERROR",Z="ADD_ERROR_ERROR",ee=()=>X.now()+(()=>{let e=X.timeOrigin;return"number"!=typeof e&&(e=X.timing&&X.timing.navigationStart),e})(),te=t=>!(!(0,e.isUndefined)(t)&&!(0,e.isString)(t))||(b.error("Expected value to be a string. Instead got a ".concat(typeof t),{caughtBy:K,value:t}),!1),re=t=>!(!(0,e.isString)(t)||(0,e.isEmpty)(t))||(b.error("Expected name to be a string. Instead got a ".concat(typeof t),{caughtBy:K,name:t}),!1),ne=()=>{B.count("monicore","context_not_found")},oe=e=>(e=>{e.context.isKnownCrawler||q(F(e))})(e),ae=(e,t)=>{try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y;if(re(e))if(Q.includes(r)){te(t)||(t=void 0);try{const n={name:e,value:t,type:r,createdAt:ee(),context:V()};oe(n)}catch(e){e instanceof H?ne():b.warn(e,{caughtBy:K,code:$})}}else b.error('Expected "type" to be event or error. Instead got a '.concat(r),{caughtBy:K,code:$})}(e,t,J)}catch(e){b.warn(e,{caughtBy:K,code:Z})}};try{P(window.initialData.LocalizationEvent)}catch(e){((e,t,r)=>{const n="Layout component: ".concat(t,", failed on entry: ").concat(r,"."),o="layout.CSR.".concat(t,".").concat(r),a="layout.CSR_LOAD_CHUNK.".concat(t,".").concat(r),i=m();e instanceof Error&&"ChunkLoadError"===(null==e?void 0:e.name)?ae(a):(b.error(e,{context:i,description:n,componentName:t,entryName:r,package:"@fiverr-private/layout-sdk"}),ae(o))})(e,"LocalizationEvent","LocalizationEvent")}})(),{}})()));
//# sourceMappingURL=LocalizationEvent.9283b1cb75cd176791e1.js.map